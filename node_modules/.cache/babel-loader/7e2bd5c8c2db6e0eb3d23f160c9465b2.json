{"ast":null,"code":"/*\r\n * Video.js plugin for Pannellum\r\n * Copyright (c) 2015-2018 Matthew Petroff\r\n * MIT License\r\n */\nimport videojs from 'video.js';\n\n(function (document, videojs, pannellum) {\n  'use strict';\n\n  videojs.registerPlugin('pannellum', function (config) {\n    // Create Pannellum instance\n    var player = this;\n    var container = player.el();\n    var vid = container.getElementsByTagName('video')[0],\n        pnlmContainer = document.createElement('div');\n    config = config || {};\n    config.type = 'equirectangular';\n    config.dynamic = true;\n    config.showZoomCtrl = false;\n    config.showFullscreenCtrl = false;\n    config.autoLoad = true;\n    config.panorama = vid;\n    pnlmContainer.style.visibility = 'hidden';\n    player.pnlmViewer = pannellum.viewer(pnlmContainer, config);\n    container.insertBefore(pnlmContainer, container.firstChild);\n    vid.style.display = 'none'; // Handle update settings\n\n    player.on('play', function () {\n      if (vid.readyState > 1) player.pnlmViewer.setUpdate(true);\n    });\n    player.on('canplay', function () {\n      if (!player.paused()) player.pnlmViewer.setUpdate(true);\n    });\n    player.on('pause', function () {\n      player.pnlmViewer.setUpdate(false);\n    });\n    player.on('loadeddata', function () {\n      pnlmContainer.style.visibility = 'visible';\n    });\n    player.on('seeking', function () {\n      if (player.paused()) player.pnlmViewer.setUpdate(true);\n    });\n    player.on('seeked', function () {\n      if (player.paused()) player.pnlmViewer.setUpdate(false);\n    });\n  });\n})(document, videojs, pannellum);","map":{"version":3,"sources":["C:/Users/franc/Documents/GitHub/but-project/node_modules/pannellum-react/es/pannellum/js/videojs-pannellum-plugin.js"],"names":["videojs","document","pannellum","registerPlugin","config","player","container","el","vid","getElementsByTagName","pnlmContainer","createElement","type","dynamic","showZoomCtrl","showFullscreenCtrl","autoLoad","panorama","style","visibility","pnlmViewer","viewer","insertBefore","firstChild","display","on","readyState","setUpdate","paused"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA,OAAOA,OAAP,MAAoB,UAApB;;AAEA,CAAC,UAAUC,QAAV,EAAoBD,OAApB,EAA6BE,SAA7B,EAAwC;AACrC;;AAEAF,EAAAA,OAAO,CAACG,cAAR,CAAuB,WAAvB,EAAoC,UAAUC,MAAV,EAAkB;AAClD;AACA,QAAIC,MAAM,GAAG,IAAb;AACA,QAAIC,SAAS,GAAGD,MAAM,CAACE,EAAP,EAAhB;AACA,QAAIC,GAAG,GAAGF,SAAS,CAACG,oBAAV,CAA+B,OAA/B,EAAwC,CAAxC,CAAV;AAAA,QACIC,aAAa,GAAGT,QAAQ,CAACU,aAAT,CAAuB,KAAvB,CADpB;AAEAP,IAAAA,MAAM,GAAGA,MAAM,IAAI,EAAnB;AACAA,IAAAA,MAAM,CAACQ,IAAP,GAAc,iBAAd;AACAR,IAAAA,MAAM,CAACS,OAAP,GAAiB,IAAjB;AACAT,IAAAA,MAAM,CAACU,YAAP,GAAsB,KAAtB;AACAV,IAAAA,MAAM,CAACW,kBAAP,GAA4B,KAA5B;AACAX,IAAAA,MAAM,CAACY,QAAP,GAAkB,IAAlB;AACAZ,IAAAA,MAAM,CAACa,QAAP,GAAkBT,GAAlB;AACAE,IAAAA,aAAa,CAACQ,KAAd,CAAoBC,UAApB,GAAiC,QAAjC;AACAd,IAAAA,MAAM,CAACe,UAAP,GAAoBlB,SAAS,CAACmB,MAAV,CAAiBX,aAAjB,EAAgCN,MAAhC,CAApB;AACAE,IAAAA,SAAS,CAACgB,YAAV,CAAuBZ,aAAvB,EAAsCJ,SAAS,CAACiB,UAAhD;AACAf,IAAAA,GAAG,CAACU,KAAJ,CAAUM,OAAV,GAAoB,MAApB,CAhBkD,CAkBlD;;AACAnB,IAAAA,MAAM,CAACoB,EAAP,CAAU,MAAV,EAAkB,YAAY;AAC1B,UAAIjB,GAAG,CAACkB,UAAJ,GAAiB,CAArB,EAAwBrB,MAAM,CAACe,UAAP,CAAkBO,SAAlB,CAA4B,IAA5B;AAC3B,KAFD;AAGAtB,IAAAA,MAAM,CAACoB,EAAP,CAAU,SAAV,EAAqB,YAAY;AAC7B,UAAI,CAACpB,MAAM,CAACuB,MAAP,EAAL,EAAsBvB,MAAM,CAACe,UAAP,CAAkBO,SAAlB,CAA4B,IAA5B;AACzB,KAFD;AAGAtB,IAAAA,MAAM,CAACoB,EAAP,CAAU,OAAV,EAAmB,YAAY;AAC3BpB,MAAAA,MAAM,CAACe,UAAP,CAAkBO,SAAlB,CAA4B,KAA5B;AACH,KAFD;AAGAtB,IAAAA,MAAM,CAACoB,EAAP,CAAU,YAAV,EAAwB,YAAY;AAChCf,MAAAA,aAAa,CAACQ,KAAd,CAAoBC,UAApB,GAAiC,SAAjC;AACH,KAFD;AAGAd,IAAAA,MAAM,CAACoB,EAAP,CAAU,SAAV,EAAqB,YAAY;AAC7B,UAAIpB,MAAM,CAACuB,MAAP,EAAJ,EAAqBvB,MAAM,CAACe,UAAP,CAAkBO,SAAlB,CAA4B,IAA5B;AACxB,KAFD;AAGAtB,IAAAA,MAAM,CAACoB,EAAP,CAAU,QAAV,EAAoB,YAAY;AAC5B,UAAIpB,MAAM,CAACuB,MAAP,EAAJ,EAAqBvB,MAAM,CAACe,UAAP,CAAkBO,SAAlB,CAA4B,KAA5B;AACxB,KAFD;AAGH,GArCD;AAsCH,CAzCD,EAyCG1B,QAzCH,EAyCaD,OAzCb,EAyCsBE,SAzCtB","sourcesContent":["/*\r\n * Video.js plugin for Pannellum\r\n * Copyright (c) 2015-2018 Matthew Petroff\r\n * MIT License\r\n */\r\nimport videojs from 'video.js';\r\n\r\n(function (document, videojs, pannellum) {\r\n    'use strict';\r\n\r\n    videojs.registerPlugin('pannellum', function (config) {\r\n        // Create Pannellum instance\r\n        var player = this;\r\n        var container = player.el();\r\n        var vid = container.getElementsByTagName('video')[0],\r\n            pnlmContainer = document.createElement('div');\r\n        config = config || {};\r\n        config.type = 'equirectangular';\r\n        config.dynamic = true;\r\n        config.showZoomCtrl = false;\r\n        config.showFullscreenCtrl = false;\r\n        config.autoLoad = true;\r\n        config.panorama = vid;\r\n        pnlmContainer.style.visibility = 'hidden';\r\n        player.pnlmViewer = pannellum.viewer(pnlmContainer, config);\r\n        container.insertBefore(pnlmContainer, container.firstChild);\r\n        vid.style.display = 'none';\r\n\r\n        // Handle update settings\r\n        player.on('play', function () {\r\n            if (vid.readyState > 1) player.pnlmViewer.setUpdate(true);\r\n        });\r\n        player.on('canplay', function () {\r\n            if (!player.paused()) player.pnlmViewer.setUpdate(true);\r\n        });\r\n        player.on('pause', function () {\r\n            player.pnlmViewer.setUpdate(false);\r\n        });\r\n        player.on('loadeddata', function () {\r\n            pnlmContainer.style.visibility = 'visible';\r\n        });\r\n        player.on('seeking', function () {\r\n            if (player.paused()) player.pnlmViewer.setUpdate(true);\r\n        });\r\n        player.on('seeked', function () {\r\n            if (player.paused()) player.pnlmViewer.setUpdate(false);\r\n        });\r\n    });\r\n})(document, videojs, pannellum);"]},"metadata":{},"sourceType":"module"}