{"ast":null,"code":"var parseSidx = function (data) {\n  var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n      result = {\n    version: data[0],\n    flags: new Uint8Array(data.subarray(1, 4)),\n    references: [],\n    referenceId: view.getUint32(4),\n    timescale: view.getUint32(8),\n    earliestPresentationTime: view.getUint32(12),\n    firstOffset: view.getUint32(16)\n  },\n      referenceCount = view.getUint16(22),\n      i;\n\n  for (i = 24; referenceCount; i += 12, referenceCount--) {\n    result.references.push({\n      referenceType: (data[i] & 0x80) >>> 7,\n      referencedSize: view.getUint32(i) & 0x7FFFFFFF,\n      subsegmentDuration: view.getUint32(i + 4),\n      startsWithSap: !!(data[i + 8] & 0x80),\n      sapType: (data[i + 8] & 0x70) >>> 4,\n      sapDeltaTime: view.getUint32(i + 8) & 0x0FFFFFFF\n    });\n  }\n\n  return result;\n};\n\nmodule.exports = parseSidx;","map":{"version":3,"sources":["C:/Users/rodet/Documents/GitHub/but-project/node_modules/mux.js/lib/tools/parse-sidx.js"],"names":["parseSidx","data","view","DataView","buffer","byteOffset","byteLength","result","version","flags","Uint8Array","subarray","references","referenceId","getUint32","timescale","earliestPresentationTime","firstOffset","referenceCount","getUint16","i","push","referenceType","referencedSize","subsegmentDuration","startsWithSap","sapType","sapDeltaTime","module","exports"],"mappings":"AAAA,IAAIA,SAAS,GAAG,UAASC,IAAT,EAAe;AAC7B,MAAIC,IAAI,GAAG,IAAIC,QAAJ,CAAaF,IAAI,CAACG,MAAlB,EAA0BH,IAAI,CAACI,UAA/B,EAA2CJ,IAAI,CAACK,UAAhD,CAAX;AAAA,MACEC,MAAM,GAAG;AACPC,IAAAA,OAAO,EAAEP,IAAI,CAAC,CAAD,CADN;AAEPQ,IAAAA,KAAK,EAAE,IAAIC,UAAJ,CAAeT,IAAI,CAACU,QAAL,CAAc,CAAd,EAAiB,CAAjB,CAAf,CAFA;AAGPC,IAAAA,UAAU,EAAE,EAHL;AAIPC,IAAAA,WAAW,EAAEX,IAAI,CAACY,SAAL,CAAe,CAAf,CAJN;AAKPC,IAAAA,SAAS,EAAEb,IAAI,CAACY,SAAL,CAAe,CAAf,CALJ;AAMPE,IAAAA,wBAAwB,EAAEd,IAAI,CAACY,SAAL,CAAe,EAAf,CANnB;AAOPG,IAAAA,WAAW,EAAEf,IAAI,CAACY,SAAL,CAAe,EAAf;AAPN,GADX;AAAA,MAUEI,cAAc,GAAGhB,IAAI,CAACiB,SAAL,CAAe,EAAf,CAVnB;AAAA,MAWEC,CAXF;;AAaA,OAAKA,CAAC,GAAG,EAAT,EAAaF,cAAb,EAA6BE,CAAC,IAAI,EAAL,EAASF,cAAc,EAApD,EAAwD;AACtDX,IAAAA,MAAM,CAACK,UAAP,CAAkBS,IAAlB,CAAuB;AACrBC,MAAAA,aAAa,EAAE,CAACrB,IAAI,CAACmB,CAAD,CAAJ,GAAU,IAAX,MAAqB,CADf;AAErBG,MAAAA,cAAc,EAAErB,IAAI,CAACY,SAAL,CAAeM,CAAf,IAAoB,UAFf;AAGrBI,MAAAA,kBAAkB,EAAEtB,IAAI,CAACY,SAAL,CAAeM,CAAC,GAAG,CAAnB,CAHC;AAIrBK,MAAAA,aAAa,EAAE,CAAC,EAAExB,IAAI,CAACmB,CAAC,GAAG,CAAL,CAAJ,GAAc,IAAhB,CAJK;AAKrBM,MAAAA,OAAO,EAAE,CAACzB,IAAI,CAACmB,CAAC,GAAG,CAAL,CAAJ,GAAc,IAAf,MAAyB,CALb;AAMrBO,MAAAA,YAAY,EAAEzB,IAAI,CAACY,SAAL,CAAeM,CAAC,GAAG,CAAnB,IAAwB;AANjB,KAAvB;AAQD;;AAED,SAAOb,MAAP;AACD,CA1BD;;AA4BAqB,MAAM,CAACC,OAAP,GAAiB7B,SAAjB","sourcesContent":["var parseSidx = function(data) {\r\n  var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\r\n    result = {\r\n      version: data[0],\r\n      flags: new Uint8Array(data.subarray(1, 4)),\r\n      references: [],\r\n      referenceId: view.getUint32(4),\r\n      timescale: view.getUint32(8),\r\n      earliestPresentationTime: view.getUint32(12),\r\n      firstOffset: view.getUint32(16)\r\n    },\r\n    referenceCount = view.getUint16(22),\r\n    i;\r\n\r\n  for (i = 24; referenceCount; i += 12, referenceCount--) {\r\n    result.references.push({\r\n      referenceType: (data[i] & 0x80) >>> 7,\r\n      referencedSize: view.getUint32(i) & 0x7FFFFFFF,\r\n      subsegmentDuration: view.getUint32(i + 4),\r\n      startsWithSap: !!(data[i + 8] & 0x80),\r\n      sapType: (data[i + 8] & 0x70) >>> 4,\r\n      sapDeltaTime: view.getUint32(i + 8) & 0x0FFFFFFF\r\n    });\r\n  }\r\n\r\n  return result;\r\n};\r\n\r\nmodule.exports = parseSidx;\r\n"]},"metadata":{},"sourceType":"script"}